<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
  <link rel="STYLESHEET" type="text/css" href="pgadmin3.css">

  <title>pgAgent Jobs</title>
</head>

<body>
  <h3>pgAgent Jobs</h3>

  <p>pgAgent runs 'jobs', each of which consists of <a href=
  "pgagent-steps.html">steps</a> and <a href=
  "pgagent-schedules.html">schedules</a>. To configure jobs on your server,
  browse to the server on which the pgAgent database objects were created. A
  <i>Jobs</i> node will be displayed, under which individual jobs are shown.
  New jobs may be created, and existing jobs modified in the same way as any
  other object in pgAdmin.</p>

  <center>
    <img src="images/pgagent-jobdetails.png" alt="Job details">
  </center>

  <p>The properties tab in the main pgAdmin window will display the details
  of the selected job, and the Statistics tab will show the details of each
  run of the job.</p>

  <center>
    <img src="images/pgagent-jobstats.png" alt="Job statistics">
  </center>

  <p>Job themselves are very simple - the complexity is in the steps and
  schedules. When configuring a job, we specify the job name, whether or not
  it is enabled, a job class or category, and optionally the hostname of a
  specific machine running pgAgent, if this job should only run on that
  specific server. If left empty (which is normally the case), any server may
  run the job. This is not normally needed for SQL-only jobs, however any
  jobs with batch/shell steps may need to be targetted to a specific server.
  A comment may also be included.</p>

  <p><b>Note:</b> It is not always obvious what value to specify for the Host
  Agent in order to target a job step to a specific machine. With pgAgent
  running on the required machines and connected to the scheduler database,
  the following query may be run to view the hostnames as reported by each
  agent:</p>

  <p><i>SELECT jagstation FROM pgagent.pga_jobagent</i></p>

  <p>Use the hostname exactly as reported by the query in the Host Agent
  field.</p>

  <center>
    <img src="images/pgagent-jobproperties.png" alt="Job properties">
  </center>
</body>
</html>
